(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8606],{63:(e,t,s)=>{"use strict";var l=s(7260);s.o(l,"usePathname")&&s.d(t,{usePathname:function(){return l.usePathname}}),s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}}),s.o(l,"useSearchParams")&&s.d(t,{useSearchParams:function(){return l.useSearchParams}})},3596:(e,t,s)=>{"use strict";s.d(t,{NR:()=>a,Tp:()=>n,_5:()=>i,c4:()=>r});let l="livreo_auth_token";function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";if("session"===t){window.sessionStorage.setItem(l,e),window.localStorage.removeItem(l);return}window.localStorage.setItem(l,e),window.sessionStorage.removeItem(l)}function r(){let e=window.sessionStorage.getItem(l);return e||window.localStorage.getItem(l)}function n(){window.localStorage.removeItem(l),window.sessionStorage.removeItem(l)}function i(){let e=r();if(!e)return null;let t=e.split(".");if(3!==t.length||!t[1])return null;try{let e=JSON.parse(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),s=t+"=".repeat((4-t.length%4)%4);return window.atob(s)}(t[1]));if(e.exp<=Math.floor(Date.now()/1e3))return null;return e}catch(e){return null}}},3968:(e,t,s)=>{Promise.resolve().then(s.bind(s,6889))},4835:(e,t,s)=>{"use strict";function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return!e||!e.startsWith("/")||e.startsWith("//")?t:e}s.d(t,{o:()=>l})},6159:(e,t,s)=>{"use strict";s.d(t,{N:()=>i});var l=s(2115),a=s(63),r=s(3596),n=s(4835);function i(){let e=(0,a.usePathname)(),t=(0,a.useSearchParams)(),[s,i]=(0,l.useState)(!1),o=t.toString();return(0,l.useEffect)(()=>{if((0,r._5)())return void i(!0);i(!1);let t=null!=e?e:"/",s=(0,n.o)("".concat(t).concat(o?"?".concat(o):""),t);window.location.replace("/connexion?next=".concat(encodeURIComponent(s)))},[s,e,o]),s}},6889:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var l=s(5155),a=s(2619),r=s.n(a),n=s(2115),i=s(3596),o=s(9678),d=s(63),c=s(6159);let x=["dashboard","orders","contributions","wishlist","profile"],m={pending:"En attente",paid:"Pay\xe9e",refunded:"Rembours\xe9e"};function u(){var e,t,s,a,u,p;let h=(0,d.useSearchParams)().get("section"),[b,f]=(0,n.useState)(()=>h&&x.includes(h)?h:"dashboard"),g=(0,c.N)(),[j,v]=(0,n.useState)(!0),[N,y]=(0,n.useState)(null),[w,k]=(0,n.useState)(null),[S,C]=(0,n.useState)([]),[E,M]=(0,n.useState)([]),[I,T]=(0,n.useState)("all"),[P,A]=(0,n.useState)("all"),[_,D]=(0,n.useState)("recent"),[O,z]=(0,n.useState)(""),[R,L]=(0,n.useState)("all"),[F,V]=(0,n.useState)("30d"),[J,H]=(0,n.useState)(1),[q,B]=(0,n.useState)(""),[G,W]=(0,n.useState)(""),[U,Y]=(0,n.useState)([]),[K,Q]=(0,n.useState)(""),[X,Z]=(0,n.useState)(""),[$,ee]=(0,n.useState)(null),[et,es]=(0,n.useState)(!1),[el,ea]=(0,n.useState)(""),[er,en]=(0,n.useState)(""),[ei,eo]=(0,n.useState)(""),[ed,ec]=(0,n.useState)(null);(0,n.useEffect)(()=>{h&&x.includes(h)&&f(h)},[h]),(0,n.useEffect)(()=>{g&&e();async function e(){v(!0),y(null);try{var e,t,s,l,a;let[r,n,d,c]=await Promise.all([(0,o.v)("/api/auth/me"),(0,o.v)("/api/me/orders"),(0,o.v)("/api/me/contributions"),(0,o.v)("/api/me/wishlist")]),x=await r.json(),m=await n.json(),u=await d.json(),p=await c.json();if(!r.ok||!(null==(e=x.data)?void 0:e.user)){401===r.status&&(0,i.Tp)(),y(null!=(t=x.error)?t:"Impossible de charger le profil");return}k(x.data.user),Z(x.data.user.name),C(n.ok&&null!=(s=m.data)?s:[]),M(d.ok&&null!=(l=u.data)?l:[]),Y(c.ok&&null!=(a=p.data)?a:[]),!n.ok&&m.error&&B(m.error),!d.ok&&u.error&&W(u.error),!c.ok&&p.error&&Q(p.error)}catch(e){y("Erreur r\xe9seau")}finally{v(!1)}}},[g]);let ex=(0,n.useMemo)(()=>{let e=S.length;return{totalReservations:e,upcoming:S.filter(e=>"pending"===e.status).length,totalSpent:S.filter(e=>"paid"===e.status).reduce((e,t)=>e+t.total,0)}},[S]);function em(e){if(!e||e.length<8)return 0;let t=Number.parseInt(e.slice(0,8),16);return Number.isNaN(t)?0:t}let eu=(0,n.useMemo)(()=>{let e="all"===I?E:E.filter(e=>e.status===I);return[..."all"===P?e:e.filter(e=>e.status===P)].sort((e,t)=>"amount_desc"===_?t.amount-e.amount:"amount_asc"===_?e.amount-t.amount:em(t.id)-em(e.id))},[E,I,P,_]),ep=(0,n.useMemo)(()=>{let e=O.trim().toLowerCase(),t=e?S.filter(t=>{var s,l;let a=null==(s=t.items)?void 0:s.map(e=>{var t,s;return null!=(s=null==(t=e.book)?void 0:t.title)?s:""}).join(" ").toLowerCase();return t.id.toLowerCase().includes(e)||(null==(l=t.invoiceNumber)?void 0:l.toLowerCase().includes(e))||a.includes(e)}):S,s="all"===R?t:t.filter(e=>e.status===R),l=new Date;return s.filter(e=>{if("all"===F)return!0;if(!e.createdAt)return!1;let t=new Date(e.createdAt);if("2023"===F)return 2023===t.getFullYear();if("6m"===F){let e=new Date(l);return e.setMonth(l.getMonth()-6),t>=e}let s=new Date(l);return s.setDate(l.getDate()-30),t>=s})},[S,O,R,F]);(0,n.useEffect)(()=>{H(1)},[O,R,F]);let eh=(0,n.useMemo)(()=>{let e=(J-1)*4;return ep.slice(e,e+4)},[ep,J]),eb=Math.max(1,Math.ceil(ep.length/4));async function ef(){es(!0),ee(null);try{let t=await (0,o.v)("/api/me/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:X})}),s=await t.json();if(!t.ok||!s.data){var e;ee(null!=(e=s.error)?e:"Mise \xe0 jour impossible");return}k(s.data),ee("Profil mis \xe0 jour")}catch(e){ee("Erreur r\xe9seau")}finally{es(!1)}}async function eg(){if(ec(null),!el||!er||!ei)return void ec("Tous les champs sont obligatoires.");try{let t=await (0,o.v)("/api/me/password",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:el,nextPassword:er,confirmPassword:ei})}),s=await t.json();if(!t.ok){var e;ec(null!=(e=s.error)?e:"Impossible de mettre \xe0 jour le mot de passe");return}ea(""),en(""),eo(""),ec("Mot de passe mis \xe0 jour.")}catch(e){ec("Erreur r\xe9seau")}}async function ej(e){var t,s;let l=await (0,o.v)("/api/me/wishlist",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:e})}),a=await l.json();if(!l.ok)return void Q(null!=(t=a.error)?t:"Suppression impossible");Y(null!=(s=a.data)?s:[])}async function ev(e){if(e.id)try{await (0,o.v)("/api/me/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:e.id,quantity:1})}),ee("Ajout\xe9 au panier.")}catch(e){ee("Impossible d'ajouter au panier.")}}async function eN(){try{await (0,o.v)("/api/me/cart/wishlist",{method:"POST"}),ee("Tous les articles ont \xe9t\xe9 ajout\xe9s au panier.")}catch(e){ee("Impossible d'ajouter tous les articles.")}}async function ey(){try{var e,t;let s=await (0,o.v)("/api/me/wishlist/share",{method:"POST"}),l=await s.json();if(!s.ok||!(null==(e=l.data)?void 0:e.token))return void ee(null!=(t=l.error)?t:"Impossible de partager la wishlist.");let a="".concat(window.location.origin,"/api/wishlist/share/").concat(l.data.token);await navigator.clipboard.writeText(a),ee("Lien de wishlist copi\xe9.")}catch(e){ee("Impossible de copier le lien.")}}return(0,n.useEffect)(()=>{J>eb&&H(eb)},[J,eb]),g?(0,l.jsx)("main",{className:"min-h-screen bg-[#f8f8f5] md:h-screen md:overflow-hidden",children:(0,l.jsxs)("div",{className:"flex min-h-screen w-full flex-col md:h-screen md:flex-row",children:[(0,l.jsxs)("nav",{className:"hidden w-64 flex-col gap-4 bg-white p-5 shadow-sm md:flex md:h-screen md:shrink-0 md:overflow-y-auto",children:[(0,l.jsx)("div",{className:"flex items-center gap-3",children:(0,l.jsx)("div",{className:"flex items-center gap-8",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"flex size-8 items-center justify-center rounded-full bg-black text-primary",children:(0,l.jsx)("span",{className:"material-symbols-outlined text-xl",children:"menu_book"})}),(0,l.jsx)("h2",{className:"text-lg font-extrabold uppercase leading-tight tracking-tight text-[#181810]",children:"SENAME EDITION’S"})]})})}),(0,l.jsxs)("div",{className:"mt-6 flex flex-col gap-1 text-sm",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>f("dashboard"),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-left font-semibold ".concat("dashboard"===b?"bg-primary text-black":"text-[#181810] hover:bg-[#f6f5ef]"),children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-base text-[#8d895e]",children:"dashboard"}),"Tableau de bord"]}),(0,l.jsxs)("button",{type:"button",onClick:()=>f("orders"),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-left ".concat("orders"===b?"bg-primary text-black":"text-[#181810] hover:bg-[#f6f5ef]"),children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-base text-[#8d895e]",children:"receipt_long"}),"Mes Commandes"]}),(0,l.jsxs)("button",{type:"button",onClick:()=>f("contributions"),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-left ".concat("contributions"===b?"bg-primary text-black":"text-[#181810] hover:bg-[#f6f5ef]"),children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-base text-[#8d895e]",children:"handshake"}),"Mes contributions"]}),(0,l.jsxs)("button",{type:"button",onClick:()=>f("wishlist"),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-left ".concat("wishlist"===b?"bg-primary text-black":"text-[#181810] hover:bg-[#f6f5ef]"),children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-base text-[#8d895e]",children:"favorite"}),"Ma liste d'envies"]}),(0,l.jsxs)("button",{type:"button",onClick:()=>f("profile"),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-left ".concat("profile"===b?"bg-primary text-black":"text-[#181810] hover:bg-[#f6f5ef]"),children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-base text-[#8d895e]",children:"badge"}),"Mon Profil"]}),(0,l.jsxs)("button",{type:"button",onClick:function(){(0,i.Tp)(),fetch("/api/auth/logout",{method:"POST",keepalive:!0}),window.location.replace("/")},className:"mt-2 flex items-center gap-3 rounded-lg px-3 py-2 text-left text-red-600 hover:bg-[#fef2f2]",children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-base",children:"logout"}),"D\xe9connexion"]})]})]}),(0,l.jsx)("section",{className:"flex-1 min-w-0 md:h-screen md:overflow-y-auto",children:(0,l.jsxs)("div",{className:"p-4 sm:p-6 md:p-6",children:[(0,l.jsx)("div",{className:"mb-6 flex flex-wrap gap-2 md:hidden",children:[{key:"dashboard",label:"Tableau de bord"},{key:"orders",label:"Commandes"},{key:"contributions",label:"Contributions"},{key:"wishlist",label:"Liste d'envies"},{key:"profile",label:"Profil"}].map(e=>(0,l.jsx)("button",{onClick:()=>f(e.key),className:"rounded-full px-4 py-2 text-xs font-bold ".concat(b===e.key?"bg-primary text-[#181810]":"bg-white border border-[#e5e5e0] text-[#181810]"),children:e.label},e.key))}),j?(0,l.jsx)("div",{className:"rounded-2xl border border-[#e5e5e0] bg-white p-6 text-sm text-[#6b6959]",children:"Chargement du profil..."}):null,!j&&N?(0,l.jsxs)("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-6",children:[(0,l.jsx)("p",{className:"text-sm text-red-700",children:N}),(0,l.jsx)(r(),{href:"/connexion",className:"mt-4 inline-block text-sm font-bold underline",children:"Se connecter"})]}):null,j||N||!w?null:(0,l.jsxs)(l.Fragment,{children:[q?(0,l.jsx)("div",{className:"mb-6 rounded-xl border border-[#e5e5e0] bg-white px-4 py-3 text-sm text-[#8d895e]",children:q}):null,"dashboard"===b?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900",children:"Tableau de bord"}),(0,l.jsx)("p",{className:"text-slate-500 mt-1",children:"Votre activit\xe9 r\xe9cente sur SENAME EDITION’S."})]})}),(0,l.jsx)("br",{}),(0,l.jsxs)("section",{className:"mb-10 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[(0,l.jsxs)("div",{className:"bg-white p-6 shadow-sm border-l-4 border-black flex flex-col justify-between",children:[(0,l.jsx)("p",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider",children:"Commandes pass\xe9es"}),(0,l.jsxs)("div",{className:"flex items-end justify-between mt-4",children:[(0,l.jsx)("span",{className:"text-3xl font-extrabold",children:ex.totalReservations}),(0,l.jsx)("div",{className:"text-primary",children:(0,l.jsx)("span",{className:"material-symbols-outlined",children:"shopping_bag"})})]})]}),(0,l.jsxs)("div",{className:"bg-white p-6 shadow-sm border-l-4 border-black flex flex-col justify-between",children:[(0,l.jsx)("p",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider",children:"Contributions"}),(0,l.jsxs)("div",{className:"flex items-end justify-between mt-4",children:[(0,l.jsx)("span",{className:"text-3xl font-extrabold",children:E.length}),(0,l.jsx)("div",{className:"text-primary text-xs font-bold uppercase",children:"Actives"})]})]}),(0,l.jsxs)("div",{className:"bg-white p-6 shadow-sm border-l-4 border-black flex flex-col justify-between",children:[(0,l.jsx)("p",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider",children:"Liste d'envies"}),(0,l.jsxs)("div",{className:"flex items-end justify-between mt-4",children:[(0,l.jsx)("span",{className:"text-3xl font-extrabold",children:U.length}),(0,l.jsx)("span",{className:"text-xs text-gray-500 mb-1",children:"Articles"})]})]}),(0,l.jsxs)("div",{className:"bg-primary p-6 shadow-sm flex flex-col justify-between",children:[(0,l.jsx)("p",{className:"text-xs font-bold uppercase text-black tracking-wider opacity-60",children:"Total d\xe9pens\xe9"}),(0,l.jsxs)("div",{className:"flex items-end justify-between mt-4",children:[(0,l.jsxs)("span",{className:"text-3xl font-extrabold",children:[ex.totalSpent.toFixed(2)," €"]}),(0,l.jsx)("span",{className:"material-symbols-outlined",children:"paid"})]})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:(0,l.jsxs)("div",{className:"space-y-8 lg:col-span-2",children:[(0,l.jsxs)("section",{className:"bg-white p-8 shadow-sm border border-gray-100",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,l.jsx)("h2",{className:"text-xl font-bold uppercase tracking-tight",children:"Contributions en cours"}),(0,l.jsx)("button",{type:"button",onClick:()=>f("contributions"),className:"text-xs font-bold text-gray-400 hover:text-dark uppercase transition-colors",children:"Tout voir"})]}),E.length?(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 items-center",children:[(0,l.jsx)("div",{className:"w-24 h-36 bg-gray-100 flex-shrink-0 shadow-md overflow-hidden",children:(null==(t=E[0])||null==(e=t.book)?void 0:e.coverImage)?(0,l.jsx)("img",{src:E[0].book.coverImage,alt:null!=(u=null==(s=E[0].book)?void 0:s.title)?u:"Contribution",className:"w-full h-full object-cover"}):null}),(0,l.jsxs)("div",{className:"flex-1 w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-extrabold text-lg",children:null!=(p=null==(a=E[0].book)?void 0:a.title)?p:"Projet"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Contribution en cours"})]}),(0,l.jsx)("span",{className:"bg-primary px-3 py-1 text-[10px] font-extrabold uppercase tracking-widest",children:m[E[0].status]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-100 h-2 mt-4 relative overflow-hidden",children:(0,l.jsx)("div",{className:"bg-black h-full",style:{width:"70%"}})}),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,l.jsxs)("p",{className:"text-xs font-bold",children:[E[0].amount.toFixed(2)," €",(0,l.jsx)("span",{className:"text-gray-400 font-medium",children:" soutenus"})]}),(0,l.jsx)("p",{className:"text-xs font-bold text-gray-500",children:"En cours"})]})]})]}):(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Aucune contribution en cours."})]}),(0,l.jsxs)("section",{className:"bg-white shadow-sm border border-gray-100 overflow-hidden",children:[(0,l.jsxs)("div",{className:"px-8 py-6 border-b border-gray-100 flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-xl font-bold uppercase tracking-tight",children:"Commandes r\xe9centes"}),(0,l.jsx)("button",{className:"text-xs font-bold bg-gray-100 px-4 py-2 hover:bg-dark hover:text-white transition-all uppercase",children:"T\xe9l\xe9charger CSV"})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left",children:[(0,l.jsx)("thead",{className:"bg-gray-50 text-[10px] uppercase font-extrabold text-gray-400 tracking-widest",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-8 py-4",children:"ID commande"}),(0,l.jsx)("th",{className:"px-8 py-4",children:"Date"}),(0,l.jsx)("th",{className:"px-8 py-4",children:"Montant"}),(0,l.jsx)("th",{className:"px-8 py-4 text-right",children:"Statut"})]})}),(0,l.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[S.slice(0,3).map(e=>(0,l.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,l.jsxs)("td",{className:"px-8 py-5 font-bold text-sm",children:["#",e.id.slice(-6)]}),(0,l.jsx)("td",{className:"px-8 py-5 text-sm text-gray-500",children:"-"}),(0,l.jsxs)("td",{className:"px-8 py-5 font-bold text-sm",children:[e.total.toFixed(2)," €"]}),(0,l.jsxs)("td",{className:"px-8 py-5 text-right",children:[(0,l.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-primary mr-2"}),(0,l.jsx)("span",{className:"text-xs font-bold uppercase",children:"paid"===e.status?"Livr\xe9e":"pending"===e.status?"En attente":"refunded"===e.status?"Rembours\xe9e":"Annul\xe9e"})]})]},e.id)),0===S.length?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:4,className:"px-8 py-6 text-center text-sm text-gray-500",children:"Aucune commande r\xe9cente."})}):null]})]})}),(0,l.jsx)("div",{className:"px-8 py-4 bg-gray-50 text-center",children:(0,l.jsx)("button",{type:"button",onClick:()=>f("orders"),className:"text-xs font-extrabold text-dark uppercase underline decoration-primary decoration-2 underline-offset-4",children:"Voir tout l'historique des commandes"})})]})]})})]}):null,"orders"===b?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:"Mes Commandes"}),(0,l.jsx)("p",{className:"text-slate-500 mt-1",children:"G\xe9rez et suivez vos achats de livres r\xe9cents en temps r\xe9el."})]}),(0,l.jsxs)("button",{onClick:()=>window.open("/api/me/orders/export","_blank"),className:"flex w-full items-center justify-center gap-2 bg-white border border-slate-200 px-4 py-2 rounded-lg text-sm font-bold shadow-sm hover:bg-slate-50 md:w-auto",children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-base",children:"download"}),"Exporter CSV"]})]}),(0,l.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-wrap gap-4 items-center",children:[(0,l.jsxs)("div",{className:"flex-1 min-w-[260px] relative",children:[(0,l.jsx)("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"search"}),(0,l.jsx)("input",{className:"w-full bg-[#f8f8f5] border-none rounded-lg py-2.5 pl-10 pr-4 text-sm focus:ring-2 focus:ring-primary/50 text-slate-900",placeholder:"Rechercher par ID ou titre de livre...",type:"text",value:O,onChange:e=>z(e.target.value)})]}),(0,l.jsxs)("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row",children:[(0,l.jsxs)("select",{className:"bg-[#f8f8f5] border-none rounded-lg py-2.5 pl-4 pr-10 text-sm focus:ring-2 focus:ring-primary/50 text-slate-900 appearance-none cursor-pointer",value:R,onChange:e=>L(e.target.value),children:[(0,l.jsx)("option",{value:"all",children:"Tous les statuts"}),(0,l.jsx)("option",{value:"paid",children:"Livr\xe9e"}),(0,l.jsx)("option",{value:"pending",children:"En attente"}),(0,l.jsx)("option",{value:"cancelled",children:"Annul\xe9e"}),(0,l.jsx)("option",{value:"refunded",children:"Rembours\xe9e"})]}),(0,l.jsxs)("select",{className:"bg-[#f8f8f5] border-none rounded-lg py-2.5 pl-4 pr-10 text-sm focus:ring-2 focus:ring-primary/50 text-slate-900 appearance-none cursor-pointer",value:F,onChange:e=>V(e.target.value),children:[(0,l.jsx)("option",{value:"30d",children:"Derniers 30 jours"}),(0,l.jsx)("option",{value:"6m",children:"Derniers 6 mois"}),(0,l.jsx)("option",{value:"2023",children:"Ann\xe9e 2023"}),(0,l.jsx)("option",{value:"all",children:"Tout"})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200",children:[(0,l.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"ID Commande"}),(0,l.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),(0,l.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Articles"}),(0,l.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Montant"}),(0,l.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Statut"}),(0,l.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,l.jsxs)("tbody",{className:"divide-y divide-slate-100",children:[eh.map(e=>{var t,s,a;let r=null!=(a=null==(t=e.items)?void 0:t.length)?a:0,n=null==(s=e.items)?void 0:s.map(e=>{var t;return null==(t=e.book)?void 0:t.title}).filter(Boolean).join(", "),i="paid"===e.status?"bg-emerald-100 text-emerald-700":"pending"===e.status?"bg-amber-100 text-amber-700":"refunded"===e.status?"bg-slate-200 text-slate-600":"bg-blue-100 text-blue-700",o="paid"===e.status?"bg-emerald-500":"pending"===e.status?"bg-amber-500":"refunded"===e.status?"bg-slate-500":"bg-blue-500";return(0,l.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[(0,l.jsx)("td",{className:"px-6 py-5",children:(0,l.jsxs)("span",{className:"font-bold text-slate-900",children:["#LV-",e.id.slice(-4)]})}),(0,l.jsx)("td",{className:"px-6 py-5 text-sm text-slate-500",children:e.createdAt?new Date(e.createdAt).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"-"}),(0,l.jsx)("td",{className:"px-6 py-5",children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-sm font-semibold text-slate-700 truncate max-w-[220px]",children:n||"Ouvrage"}),(0,l.jsx)("span",{className:"text-[11px] text-slate-400 uppercase font-medium",children:r>1?"".concat(r," articles"):"".concat(r," article")})]})}),(0,l.jsxs)("td",{className:"px-6 py-5 text-sm font-bold text-right text-slate-900",children:[e.total.toFixed(2)," €"]}),(0,l.jsx)("td",{className:"px-6 py-5",children:(0,l.jsxs)("span",{className:"inline-flex items-center gap-1.5 py-1 px-3 rounded-full text-xs font-bold ".concat(i),children:[(0,l.jsx)("span",{className:"size-1.5 rounded-full ".concat(o)}),"paid"===e.status?"Livr\xe9e":"pending"===e.status?"En attente":"refunded"===e.status?"Rembours\xe9e":"Exp\xe9di\xe9e"]})}),(0,l.jsx)("td",{className:"px-6 py-5 text-right",children:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,l.jsx)("button",{className:"p-1.5 rounded-lg hover:bg-primary/20 text-slate-400 hover:text-slate-900 transition-colors",title:"D\xe9tails",children:(0,l.jsx)("span",{className:"material-symbols-outlined text-lg",children:"visibility"})}),(0,l.jsx)("button",{className:"p-1.5 rounded-lg bg-primary text-slate-900 font-bold text-xs px-3 py-1.5 shadow-sm hover:shadow-md transition-all",children:"Facture"})]})})]},e.id)}),0===ep.length?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:6,className:"px-6 py-6 text-center text-sm text-slate-500",children:"Aucune commande pour le moment."})}):null]})]})}),(0,l.jsxs)("div",{className:"px-6 py-4 bg-slate-50 flex items-center justify-between border-t border-slate-200",children:[(0,l.jsxs)("p",{className:"text-sm text-slate-500",children:["Affichage de ",(0,l.jsx)("span",{className:"font-bold text-slate-900",children:"1"})," \xe0"," ",(0,l.jsx)("span",{className:"font-bold text-slate-900",children:Math.min(4*J,ep.length||0)})," ","sur ",(0,l.jsx)("span",{className:"font-bold text-slate-900",children:ep.length||0})," commandes"]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{onClick:()=>H(e=>Math.max(1,e-1)),disabled:1===J,className:"size-9 flex items-center justify-center rounded-lg bg-white border border-slate-200 ".concat(1===J?"text-slate-400 cursor-not-allowed":"hover:bg-slate-50"),children:(0,l.jsx)("span",{className:"material-symbols-outlined",children:"chevron_left"})}),Array.from({length:Math.min(eb,3)}).map((e,t)=>{let s=t+1;return(0,l.jsx)("button",{onClick:()=>H(s),className:"size-9 flex items-center justify-center rounded-lg border ".concat(J===s?"bg-primary text-slate-900 font-bold border-primary":"bg-white border-slate-200 hover:bg-slate-50 font-bold"),children:s},s)}),(0,l.jsx)("button",{onClick:()=>H(e=>Math.min(eb,e+1)),disabled:J===eb,className:"size-9 flex items-center justify-center rounded-lg bg-white border border-slate-200 ".concat(J===eb?"text-slate-400 cursor-not-allowed":"hover:bg-slate-50"),children:(0,l.jsx)("span",{className:"material-symbols-outlined",children:"chevron_right"})})]})]})]})]}):null,"contributions"===b?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-extrabold tracking-tight text-[#181810] sm:text-3xl md:text-4xl",children:"Mes Contributions"}),(0,l.jsx)("p",{className:"text-gray-500 max-w-2xl mt-2",children:"Suivez l'impact de vos soutiens aux projets participatifs et d\xe9couvrez l'\xe9volution de vos investissements."})]}),(0,l.jsxs)("button",{className:"bg-primary text-[#181810] px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:shadow-lg transition-all active:scale-95 w-full md:w-auto",children:[(0,l.jsx)("span",{className:"material-symbols-outlined",children:"explore"}),"Explorer des projets"]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 border-b border-[#e7e6da] md:flex-row md:items-center md:justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-wrap gap-6",children:[(0,l.jsxs)("button",{onClick:()=>T("all"),className:"pb-4 text-sm font-bold border-b-2 ".concat("all"===I?"border-primary text-[#181810]":"border-transparent text-gray-400 hover:text-gray-600"),children:["Tous (",E.length,")"]}),(0,l.jsxs)("button",{onClick:()=>T("pending"),className:"pb-4 text-sm font-bold border-b-2 ".concat("pending"===I?"border-primary text-[#181810]":"border-transparent text-gray-400 hover:text-gray-600"),children:["En cours (",E.filter(e=>"pending"===e.status).length,")"]}),(0,l.jsxs)("button",{onClick:()=>T("paid"),className:"pb-4 text-sm font-bold border-b-2 ".concat("paid"===I?"border-primary text-[#181810]":"border-transparent text-gray-400 hover:text-gray-600"),children:["R\xe9ussis (",E.filter(e=>"paid"===e.status).length,")"]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-4 pb-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-[#e7e6da] rounded-lg",children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-sm",children:"filter_list"}),(0,l.jsxs)("select",{className:"text-xs font-bold bg-transparent border-none focus:ring-0",value:P,onChange:e=>A(e.target.value),children:[(0,l.jsx)("option",{value:"all",children:"Filtrer"}),(0,l.jsx)("option",{value:"pending",children:"En cours"}),(0,l.jsx)("option",{value:"paid",children:"R\xe9ussis"}),(0,l.jsx)("option",{value:"refunded",children:"Rembours\xe9s"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-[#e7e6da] rounded-lg",children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-sm",children:"swap_vert"}),(0,l.jsxs)("select",{className:"text-xs font-bold bg-transparent border-none focus:ring-0",value:_,onChange:e=>D(e.target.value),children:[(0,l.jsx)("option",{value:"recent",children:"Trier par date"}),(0,l.jsx)("option",{value:"amount_desc",children:"Montant ↓"}),(0,l.jsx)("option",{value:"amount_asc",children:"Montant ↑"})]})]})]})]}),G?(0,l.jsx)("p",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:G}):null,eu.length?null:(0,l.jsx)("div",{className:"rounded-2xl border border-[#e5e5e0] bg-white p-6 text-sm text-[#8d895e]",children:"Aucune contribution pour le moment."}),(0,l.jsx)("div",{className:"flex flex-col gap-4",children:eu.map(e=>{var t,s,a,r;return(0,l.jsx)("article",{className:"bg-white border border-[#e7e6da] rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:(0,l.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap gap-6 items-start",children:[(0,l.jsx)("div",{className:"w-full md:w-48 h-32 rounded-lg bg-cover bg-center shrink-0",style:{backgroundImage:"url('".concat(null!=(a=null==(t=e.book)?void 0:t.coverImage)?a:"","')")}}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col justify-between h-auto md:h-32",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-bold rounded-full uppercase tracking-wider ".concat("paid"===e.status?"bg-green-100 text-green-700":"pending"===e.status?"bg-primary/30 text-[#181810]":"bg-blue-100 text-blue-700"),children:m[e.status]}),(0,l.jsx)("span",{className:"text-xs text-gray-400 font-medium",children:"Projet"})]}),(0,l.jsx)("h3",{className:"text-xl font-extrabold hover:text-primary transition-colors cursor-pointer",children:null!=(r=null==(s=e.book)?void 0:s.title)?r:"Contribution"})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Contribution"}),(0,l.jsxs)("p",{className:"text-lg font-extrabold",children:[e.amount.toFixed(2)," €"]})]})]}),(0,l.jsxs)("div",{className:"mt-4 md:mt-0",children:[(0,l.jsxs)("div",{className:"flex justify-between text-xs font-bold mb-1.5",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Progression du financement"}),(0,l.jsx)("span",{className:"text-[#181810]",children:"70% (€10,500 / €15,000)"})]}),(0,l.jsx)("div",{className:"w-full h-2.5 bg-[#f8f8f5] rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full bg-primary",style:{width:"70%"}})}),(0,l.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Soutenu r\xe9cemment"}),(0,l.jsx)("p",{className:"text-xs font-bold text-gray-400",children:"paid"===e.status?"Objectif atteint !":"En cours"})]})]})]})]})},e.id)})})]}):null,"wishlist"===b?(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-black tracking-tight text-[#181810] mb-2 sm:text-3xl md:text-4xl",children:"Ma liste d'envies"}),(0,l.jsxs)("p",{className:"text-[#8d895e] text-base font-medium flex items-center gap-2",children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-sm",children:"auto_stories"}),U.length," articles sauvegard\xe9s dans votre liste"]})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)("button",{onClick:()=>void ey(),className:"flex items-center gap-2 px-6 py-3 bg-white border border-[#e5e5df] rounded-xl text-sm font-bold hover:bg-gray-50 transition-all shadow-sm",children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-lg",children:"share"}),"Partager la liste"]}),(0,l.jsxs)("button",{onClick:()=>eN(),className:"flex items-center gap-2 px-6 py-3 bg-primary text-[#181810] rounded-xl text-sm font-bold hover:brightness-105 transition-all shadow-md",children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-lg",children:"add_shopping_cart"}),"Tout ajouter au panier"]})]})]}),K?(0,l.jsx)("p",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:K}):null,0===U.length?(0,l.jsx)("div",{className:"rounded-2xl border border-[#e5e5e0] bg-white p-6 text-sm text-[#8d895e]",children:"Votre liste d'envies est vide."}):null,(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:U.map(e=>{var t,s,a,r,n;return(0,l.jsxs)("article",{className:"group bg-white rounded-xl border border-[#e5e5df] overflow-hidden flex flex-col shadow-sm hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[(0,l.jsxs)("div",{className:"relative aspect-[3/4] overflow-hidden bg-gray-100",children:[e.coverImage?(0,l.jsx)("img",{src:e.coverImage,alt:null!=(s=e.title)?s:"Ouvrage",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):null,(0,l.jsx)("button",{type:"button",onClick:()=>void ej(e.id),className:"absolute top-3 right-3 p-2 bg-white/90 backdrop-blur-sm rounded-full text-red-500 shadow-sm hover:bg-red-500 hover:text-white transition-colors",children:(0,l.jsx)("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]}),(0,l.jsxs)("div",{className:"p-4 flex flex-col flex-1",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h3",{className:"text-[#181810] font-bold text-lg leading-tight mb-1 truncate",children:null!=(a=e.title)?a:"Ouvrage"}),(0,l.jsx)("p",{className:"text-[#8d895e] text-sm",children:null!=(r=e.authorName)?r:"Auteur"})]}),(0,l.jsxs)("div",{className:"mt-auto",children:[(0,l.jsxs)("p",{className:"text-xl font-black text-primary mb-4 drop-shadow-sm",children:[null!=(n=null==(t=e.price)?void 0:t.toFixed(2))?n:"0.00"," €"]}),(0,l.jsxs)("button",{onClick:()=>ev(e),className:"w-full py-2.5 bg-primary/10 text-[#181810] font-bold rounded-lg hover:bg-primary transition-colors text-sm flex items-center justify-center gap-2",children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-lg",children:"shopping_cart"}),"Ajouter au panier"]})]})]})]},e.id)})})]}):null,"profile"===b?(0,l.jsxs)("div",{className:"space-y-8 max-w-5xl",children:[(0,l.jsxs)("header",{className:"mb-2",children:[(0,l.jsx)("h1",{className:"text-2xl font-black tracking-tight text-[#181810] mb-2 sm:text-3xl md:text-4xl",children:"Mon Profil"}),(0,l.jsx)("p",{className:"text-[#8d895e] text-lg",children:"G\xe9rez vos informations personnelles et la s\xe9curit\xe9 de votre compte SENAME EDITION’S."})]}),(0,l.jsxs)("section",{className:"bg-white rounded-xl shadow-sm border border-[#e7e6da] overflow-hidden",children:[(0,l.jsxs)("div",{className:"px-6 py-4 border-b border-[#e7e6da] bg-zinc-50/50 flex items-center gap-2",children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-primary",children:"badge"}),(0,l.jsx)("h2",{className:"text-lg font-bold text-[#181810]",children:"Informations Personnelles"})]}),(0,l.jsx)("div",{className:"p-8",children:(0,l.jsxs)("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("label",{className:"text-sm font-bold text-[#181810]",children:"Nom Complet"}),(0,l.jsx)("input",{className:"w-full px-4 py-3 rounded-lg border border-[#e7e6da] bg-white text-[#181810] focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all",placeholder:"Nom complet",type:"text",value:X,onChange:e=>Z(e.target.value)})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("label",{className:"text-sm font-bold text-[#181810]",children:"Adresse E-mail"}),(0,l.jsx)("input",{className:"w-full px-4 py-3 rounded-lg border border-[#e7e6da] bg-white text-[#181810] focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all",placeholder:"email@exemple.com",type:"email",value:w.email,readOnly:!0})]}),(0,l.jsxs)("div",{className:"md:col-span-2 flex justify-end mt-4",children:[(0,l.jsx)("button",{type:"button",onClick:()=>void ef(),disabled:et||X.trim().length<2,className:"bg-primary hover:brightness-105 text-[#181810] font-bold px-8 py-3 rounded-lg transition-all shadow-md active:scale-95 disabled:opacity-60",children:et?"Enregistrement...":"Sauvegarder les modifications"}),$?(0,l.jsx)("p",{className:"ml-4 text-sm text-[#6b6959]",children:$}):null]})]})})]}),(0,l.jsxs)("section",{className:"bg-white rounded-xl shadow-sm border border-[#e7e6da] overflow-hidden",children:[(0,l.jsxs)("div",{className:"px-6 py-4 border-b border-[#e7e6da] bg-zinc-50/50 flex items-center gap-2",children:[(0,l.jsx)("span",{className:"material-symbols-outlined text-primary",children:"lock"}),(0,l.jsx)("h2",{className:"text-lg font-bold text-[#181810]",children:"Modifier le mot de passe"})]}),(0,l.jsx)("div",{className:"p-8",children:(0,l.jsxs)("form",{className:"flex flex-col gap-6 max-w-xl",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("label",{className:"text-sm font-bold text-[#181810]",children:"Mot de passe actuel"}),(0,l.jsx)("input",{className:"w-full px-4 py-3 rounded-lg border border-[#e7e6da] bg-white text-[#181810] focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all",placeholder:"••••••••••••",type:"password",value:el,onChange:e=>ea(e.target.value)}),(0,l.jsx)(r(),{href:"/mot-de-passe-oublie",className:"text-xs font-bold text-[#8d895e] hover:text-[#181810]",children:"Mot de passe oubli\xe9 ?"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("label",{className:"text-sm font-bold text-[#181810]",children:"Nouveau mot de passe"}),(0,l.jsx)("input",{className:"w-full px-4 py-3 rounded-lg border border-[#e7e6da] bg-white text-[#181810] focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all",placeholder:"••••••••••••",type:"password",value:er,onChange:e=>en(e.target.value)})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("label",{className:"text-sm font-bold text-[#181810]",children:"Confirmer le mot de passe"}),(0,l.jsx)("input",{className:"w-full px-4 py-3 rounded-lg border border-[#e7e6da] bg-white text-[#181810] focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all",placeholder:"••••••••••••",type:"password",value:ei,onChange:e=>eo(e.target.value)})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,l.jsx)("p",{className:"text-xs text-[#8d895e] italic",children:"Minimum 8 caract\xe8res, incluant un chiffre et un symbole."}),(0,l.jsx)("button",{type:"button",onClick:()=>void eg(),className:"bg-zinc-900 text-white font-bold px-8 py-3 rounded-lg transition-all hover:bg-zinc-800 active:scale-95 shadow-md",children:"Actualiser le mot de passe"})]}),ed?(0,l.jsx)("p",{className:"text-sm text-[#8d895e]",children:ed}):null]})})]})]}):null]})]})})]})}):(0,l.jsx)("div",{children:"Vous devez \xeatre connect\xe9 pour acc\xe9der \xe0 cette page."})}},9678:(e,t,s)=>{"use strict";s.d(t,{v:()=>a});var l=s(3596);async function a(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,l.c4)(),r=new Headers(null!=(t=s.headers)?t:{});return a&&r.set("Authorization","Bearer ".concat(a)),fetch(e,{...s,headers:r})}}},e=>{e.O(0,[2619,8441,1255,7358],()=>e(e.s=3968)),_N_E=e.O()}]);