(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3237],{63:(e,t,r)=>{"use strict";var a=r(7260);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},361:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var a=r(5155),s=r(2619),n=r.n(s),l=r(2115),i=r(63),o=r(3596),c=r(4835);function d(e){let{showAuthLinks:t=!1}=e,r=(0,i.usePathname)(),[s,d]=(0,l.useState)(!1),[u,m]=(0,l.useState)(null),[x,p]=(0,l.useState)(null),h=(0,l.useRef)(null),b=encodeURIComponent((0,c.o)(r,"/"));return((0,l.useEffect)(()=>{var e,t;let r=(0,o._5)();m(null!=(e=null==r?void 0:r.name)?e:null),p(null!=(t=null==r?void 0:r.role)?t:null)},[]),(0,l.useEffect)(()=>{function e(e){h.current&&e.target instanceof Node&&!h.current.contains(e.target)&&d(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),("admin"!==x||r.startsWith("/admin"))&&u)?(0,a.jsxs)("div",{ref:h,className:"relative",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>d(e=>!e),className:"flex h-10 items-center gap-2 rounded-lg border border-primary bg-primary/90 px-3 text-sm font-semibold text-[#181810] shadow-sm transition hover:bg-primary",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-base",children:"person"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:u}),(0,a.jsx)("span",{className:"material-symbols-outlined text-base",children:"expand_more"})]}),s?(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-52 overflow-hidden rounded-xl border border-[#e5e5e0] bg-white shadow-lg",children:[(0,a.jsx)("div",{className:"border-b border-[#f0efe9] px-4 py-3 text-xs font-bold uppercase tracking-widest text-[#8d895e]",children:"Mon compte"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)(n(),{href:"admin"===x?"/admin":"/mon-compte",className:"flex items-center gap-3 px-4 py-3 text-sm text-[#181810] transition hover:bg-[#f8f8f5]",onClick:()=>d(!1),children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-base text-[#8d895e]",children:"person"}),"Mon profil"]}),(0,a.jsxs)("button",{type:"button",onClick:function(){(0,o.Tp)(),m(null),p(null),d(!1),fetch("/api/auth/logout",{method:"POST",keepalive:!0}),window.location.replace("/")},className:"flex items-center gap-3 px-4 py-3 text-sm text-red-600 transition hover:bg-[#fef2f2]",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-base",children:"logout"}),"D\xe9connexion"]})]})]}):null]}):t?(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n(),{href:"/connexion?next=".concat(b,"&from=home"),className:"text-sm font-semibold uppercase tracking-wider text-[#181810] transition-colors hover:text-primary",children:"connexion"}),(0,a.jsx)(n(),{href:"/inscription?next=".concat(b,"&from=home"),className:"text-sm font-semibold uppercase tracking-wider text-[#181810] transition-colors hover:text-primary",children:"inscription"})]}):null}},1362:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var a=r(5155),s=r(2619),n=r.n(s),l=r(2115),i=r(5668),o=r(3596);function c(){let[e,t]=(0,l.useState)(0);return(0,l.useEffect)(()=>{let e=()=>{(0,o._5)()?t((0,i.je)().length):t(0)};e();let r=window.setInterval(e,700);return()=>window.clearInterval(r)},[]),(0,a.jsxs)(n(),{href:"/panier",className:"relative flex h-10 w-10 items-center justify-center rounded-lg bg-[#f5f4f0] text-[#181810] transition-colors hover:bg-primary","aria-label":"Panier",children:[(0,a.jsx)("span",{className:"material-symbols-outlined",children:"shopping_bag"}),(0,a.jsx)("span",{className:"absolute -right-1 -top-1 rounded-full border-2 border-white bg-primary px-1.5 py-0.5 text-[10px] font-bold text-black",children:e})]})}},2700:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var a=r(5155),s=r(2115);function n(e){let{title:t,className:r}=e,[n,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)("");(0,s.useEffect)(()=>{o(window.location.href)},[]);let c=encodeURIComponent(i),d=encodeURIComponent(t);async function u(){i&&(await navigator.clipboard.writeText(i),l(!0),window.setTimeout(()=>l(!1),1500))}return(0,a.jsxs)("div",{className:r,children:[(0,a.jsx)("a",{className:"flex h-8 w-8 items-center justify-center rounded-full border border-[#e5e5e0] transition-all hover:bg-primary hover:text-black",href:"https://www.facebook.com/sharer/sharer.php?u=".concat(c),target:"_blank",rel:"noreferrer","aria-label":"Partager sur Facebook",children:(0,a.jsx)("span",{className:"text-xs font-bold",children:"f"})}),(0,a.jsx)("a",{className:"flex h-8 w-8 items-center justify-center rounded-full border border-[#e5e5e0] transition-all hover:bg-primary hover:text-black",href:"https://x.com/intent/tweet?text=".concat(d,"&url=").concat(c),target:"_blank",rel:"noreferrer","aria-label":"Partager sur X",children:(0,a.jsx)("span",{className:"text-xs font-bold",children:"x"})}),(0,a.jsx)("a",{className:"flex h-8 w-8 items-center justify-center rounded-full border border-[#e5e5e0] transition-all hover:bg-primary hover:text-black",href:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(c),target:"_blank",rel:"noreferrer","aria-label":"Partager sur LinkedIn",children:(0,a.jsx)("span",{className:"text-[10px] font-bold",children:"in"})}),(0,a.jsx)("a",{className:"flex h-8 w-8 items-center justify-center rounded-full border border-[#e5e5e0] transition-all hover:bg-primary hover:text-black",href:"https://wa.me/?text=".concat(d,"%20").concat(c),target:"_blank",rel:"noreferrer","aria-label":"Partager sur WhatsApp",children:(0,a.jsx)("span",{className:"text-[10px] font-bold",children:"wa"})}),(0,a.jsx)("button",{type:"button",onClick:()=>void u(),className:"rounded-full border border-[#e5e5e0] px-3 py-1 text-[10px] font-bold uppercase tracking-wider transition hover:bg-primary",children:n?"Copi\xe9":"Copier lien"})]})}},3596:(e,t,r)=>{"use strict";r.d(t,{NR:()=>s,Tp:()=>l,_5:()=>i,c4:()=>n});let a="livreo_auth_token";function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";if("session"===t){window.sessionStorage.setItem(a,e),window.localStorage.removeItem(a);return}window.localStorage.setItem(a,e),window.sessionStorage.removeItem(a)}function n(){let e=window.sessionStorage.getItem(a);return e||window.localStorage.getItem(a)}function l(){window.localStorage.removeItem(a),window.sessionStorage.removeItem(a)}function i(){let e=n();if(!e)return null;let t=e.split(".");if(3!==t.length||!t[1])return null;try{let e=JSON.parse(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=t+"=".repeat((4-t.length%4)%4);return window.atob(r)}(t[1]));if(e.exp<=Math.floor(Date.now()/1e3))return null;return e}catch(e){return null}}},4493:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var a=r(5155),s=r(2115);function n(e){let{bookId:t,initialGoal:r,initialRaised:n}=e,[l,i]=(0,s.useState)(null),o=(0,s.useMemo)(()=>{if(l)return l;let e=r>0?Math.min(n/r*100,100):0;return{bookId:t,title:"",goal:r,raised:n,progress:e,totalContributors:0,contributors:[]}},[t,r,n,l]);return(0,s.useEffect)(()=>{let e=new EventSource("/api/contributions/stream?bookId=".concat(encodeURIComponent(t)));return e.onmessage=e=>{try{let t=JSON.parse(e.data);i(t)}catch(e){}},()=>{e.close()}},[t]),(0,a.jsxs)("div",{className:"mt-4 rounded-xl border border-[#e5e5e0] bg-white p-4",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center justify-between text-xs font-bold uppercase text-[#8d895e]",children:[(0,a.jsxs)("span",{children:[Math.round(o.progress),"% financ\xe9"]}),(0,a.jsxs)("span",{children:[o.raised.toFixed(0),"€ / ",o.goal.toFixed(0),"€"]})]}),(0,a.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-[#e5e5e0]",children:(0,a.jsx)("div",{className:"h-full bg-primary",style:{width:"".concat(Math.min(100,o.progress),"%")}})}),(0,a.jsxs)("p",{className:"mt-3 text-xs text-[#6b6959]",children:["Contributeurs publics: ",o.totalContributors]}),o.contributors.length>0?(0,a.jsx)("ul",{className:"mt-3 space-y-2 text-sm",children:o.contributors.slice(0,5).map(e=>(0,a.jsxs)("li",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"font-semibold",children:e.name}),(0,a.jsxs)("span",{children:[e.amount.toFixed(2),"€"]})]},e.id))}):null]})}},4835:(e,t,r)=>{"use strict";function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return!e||!e.startsWith("/")||e.startsWith("//")?t:e}r.d(t,{o:()=>a})},4988:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var a=r(5155),s=r(63),n=r(2115),l=r(9678),i=r(3596),o=r(4835);function c(e){let{bookId:t}=e,r=(0,s.useRouter)(),[c,d]=(0,n.useState)(null);async function u(){if(!(0,i._5)()){let e=(0,o.o)("/mon-compte?section=wishlist","/mon-compte");r.push("/connexion?next=".concat(encodeURIComponent(e)));return}let e=await (0,l.v)("/api/me/wishlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:t})}),a=await e.json();if(!e.ok){var s;d(null!=(s=a.error)?s:"Impossible d'ajouter \xe0 la liste d'envies");return}d("Ajout\xe9 \xe0 la liste d'envies")}return(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("button",{onClick:()=>void u(),className:"rounded-lg border border-[#d8d7d0] bg-white px-4 py-2 text-xs font-bold uppercase tracking-wider",children:"Ajouter \xe0 la liste d'envies"}),c?(0,a.jsx)("p",{className:"mt-2 text-xs text-[#8d895e]",children:c}):null]})}},5001:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(5155),s=r(2115),n=r(6911);function l(e){let{book:t,disabled:r}=e,[l,i]=(0,s.useState)(1);return(0,a.jsxs)("div",{className:"mb-8 flex flex-col gap-4 sm:mb-10 sm:flex-row",children:[(0,a.jsxs)("div",{className:"flex h-12 items-center rounded-lg border-2 border-[#e5e5e0] bg-white sm:h-14",children:[(0,a.jsx)("button",{type:"button",onClick:function(){i(e=>Math.max(1,e-1))},className:"h-full px-4 transition-colors hover:bg-gray-100","aria-label":"Diminuer",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-sm",children:"remove"})}),(0,a.jsx)("input",{className:"w-10 border-none bg-transparent text-center text-sm font-bold focus:ring-0 sm:w-12 sm:text-base",type:"text",inputMode:"numeric",value:l,readOnly:!0,"aria-label":"Quantit\xe9"}),(0,a.jsx)("button",{type:"button",onClick:function(){i(e=>e+1)},className:"h-full px-4 transition-colors hover:bg-gray-100","aria-label":"Augmenter",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-sm",children:"add"})})]}),(0,a.jsx)(n.default,{book:t,quantity:l,className:"h-12 flex-1 rounded-lg bg-primary text-xs font-black uppercase tracking-widest text-black shadow-md transition-all hover:brightness-95 active:scale-[0.98] disabled:cursor-not-allowed disabled:bg-gray-200 sm:h-14 sm:text-sm",disabled:r})]})}},5668:(e,t,r)=>{"use strict";r.d(t,{AR:()=>i,SM:()=>o,bE:()=>l,cr:()=>d,hs:()=>u,je:()=>s,yA:()=>c});let a="livreo_cart";function s(){try{let e=window.localStorage.getItem(a);if(!e)return[];let t=JSON.parse(e);if(!Array.isArray(t))return[];return t}catch(e){return[]}}function n(e){window.localStorage.setItem(a,JSON.stringify(e))}function l(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=s();return n(t=a.find(t=>t.bookId===e.bookId)?a.map(t=>t.bookId===e.bookId?{...t,quantity:Math.max(1,t.quantity+r)}:t):[...a,{...e,quantity:Math.max(1,r)}]),t}function i(e,t){let r=Math.max(1,t),a=s().map(t=>t.bookId===e?{...t,quantity:r}:t);return n(a),a}function o(e){let t=s().filter(t=>t.bookId!==e);return n(t),t}function c(){n([])}function d(e){return e.reduce((e,t)=>e+t.quantity,0)}function u(e){return e.reduce((e,t)=>e+t.price*t.quantity,0)}},5721:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(5155),s=r(2115),n=r(9678);function l(e){let{bookId:t}=e,[r,l]=(0,s.useState)("25"),[i,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!1);async function x(){m(!0),d(null);try{let a=await (0,n.v)("/api/contributions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:t,amount:Number(r),reward:i||void 0})}),s=await a.json();if(!a.ok){var e;d(null!=(e=s.error)?e:"Contribution impossible");return}d("Contribution enregistr\xe9e et confirm\xe9e. Merci !"),o("")}finally{m(!1)}}return(0,a.jsxs)("div",{className:"mt-5 rounded-xl border border-[#e5e5e0] bg-white p-4",children:[(0,a.jsx)("h4",{className:"mb-2 text-lg font-bold",children:"Participer au financement"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2",children:[(0,a.jsx)("input",{type:"number",min:1,className:"rounded border border-[#d8d7d0] px-3 py-2",value:r,onChange:e=>l(e.target.value),placeholder:"Montant (€)"}),(0,a.jsx)("input",{className:"rounded border border-[#d8d7d0] px-3 py-2",value:i,onChange:e=>o(e.target.value),placeholder:"R\xe9compense (optionnel)"})]}),(0,a.jsx)("button",{onClick:()=>void x(),disabled:u,className:"mt-3 rounded bg-primary px-4 py-2 text-sm font-bold uppercase disabled:opacity-60",children:u?"Envoi...":"Contribuer"}),c?(0,a.jsx)("p",{className:"mt-2 text-sm text-[#6b6959]",children:c}):null]})}},5823:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var a=r(5155),s=r(2115),n=r(9678);function l(e){let{bookId:t,mode:r="full"}=e,[l,i]=(0,s.useState)([]),[o,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(null),[m,x]=(0,s.useState)(5),[p,h]=(0,s.useState)(""),[b,f]=(0,s.useState)(!1),[g,v]=(0,s.useState)(""),[w,j]=(0,s.useState)(""),y=(0,s.useCallback)(async()=>{c(!0),u(null);try{var e,r;let a=await fetch("/api/comments?bookId=".concat(t)),s=await a.json();if(!a.ok)return void u(null!=(e=s.error)?e:"Impossible de charger les commentaires");i(null!=(r=s.data)?r:[])}catch(e){u("Erreur r\xe9seau")}finally{c(!1)}},[t]);async function N(){f(!0);try{let r=g.trim(),a=w.trim();if(!r||!a)return void u("Nom et email sont obligatoires.");let s=await (0,n.v)("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:t,rating:m,content:p,reviewerName:r,reviewerEmail:a})}),l=await s.json();if(!s.ok){var e;u(null!=(e=l.error)?e:"Impossible d'ajouter le commentaire");return}h(""),x(5),u("Commentaire envoy\xe9. Il est visible imm\xe9diatement.")}finally{f(!1)}}(0,s.useEffect)(()=>{if("full"!==r)return void c(!1);y()},[y,r]),(0,s.useEffect)(()=>{let e=!0;return async function(){try{var t,r;let a=await (0,n.v)("/api/me/profile"),s=await a.json();if(!a.ok||!s.data||!e)return;v(null!=(t=s.data.name)?t:""),j(null!=(r=s.data.email)?r:"")}catch(e){}}(),()=>{e=!1}},[]);let k=(0,s.useMemo)(()=>l.length?l.reduce((e,t)=>e+t.rating,0)/l.length:0,[l]);return(0,a.jsxs)("section",{className:"space-y-10",children:["full"===r?(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,a.jsxs)("p",{className:"text-xs font-bold uppercase tracking-widest text-[#8d895e]",children:[l.length," avis • Note moyenne ",k.toFixed(1),"/5"]}),d?(0,a.jsx)("p",{className:"rounded border border-[#e5e5e0] bg-white px-3 py-2 text-sm",children:d}):null]}):d?(0,a.jsx)("p",{className:"rounded border border-[#e5e5e0] bg-white px-3 py-2 text-sm",children:d}):null,"full"===r&&o?(0,a.jsx)("p",{className:"text-sm text-[#8d895e]",children:"Chargement..."}):null,"full"===r?(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-x-12 gap-y-16 md:grid-cols-2",children:[l.map(e=>{var t;let r=e.reviewerName||(null==(t=e.user)?void 0:t.name)||"Lecteur",s=r.trim().charAt(0).toUpperCase();return(0,a.jsxs)("article",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"relative rounded-xl bg-primary p-6",children:[(0,a.jsxs)("p",{className:"font-medium leading-relaxed text-[#181810]",children:["“",e.content,"”"]}),(0,a.jsx)("div",{className:"absolute -bottom-4 left-6 h-0 w-0 border-l-[15px] border-l-transparent border-r-[15px] border-r-transparent border-t-[20px] border-t-primary"})]}),(0,a.jsxs)("div",{className:"ml-2 mt-6 flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center overflow-hidden rounded-full bg-[#e5e5e0] text-sm font-bold text-[#181810]",children:s||"L"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-bold",children:r}),(0,a.jsx)("div",{className:"flex origin-left scale-75 text-black",children:Array.from({length:5}).map((t,r)=>(0,a.jsx)("span",{className:"material-symbols-outlined text-xs ".concat(r<e.rating?"fill-1":""),children:"star"},"".concat(e.id,"-star-").concat(r)))})]})]}),e.authorReply?(0,a.jsxs)("div",{className:"mt-4 rounded-lg border border-[#e5e5e0] bg-white px-4 py-3 text-sm text-[#181810]",children:[(0,a.jsx)("span",{className:"font-bold",children:"R\xe9ponse de l'auteur:"})," ",e.authorReply]}):null]},e.id)}),l.length||o?null:(0,a.jsx)("p",{className:"text-sm text-[#8d895e]",children:"Aucun avis pour le moment."})]}):null,(0,a.jsx)("section",{className:"border-t border-[#e5e5e0] pt-16",children:(0,a.jsxs)("div",{className:"max-w-2xl",children:[(0,a.jsx)("h3",{className:"mb-8 text-2xl font-black uppercase tracking-tight text-[#181810]",children:"Laissez votre avis"}),(0,a.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),N()},children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold uppercase tracking-widest text-[#8d895e]",children:"Note"}),(0,a.jsx)("div",{className:"flex gap-1 text-[#181810]",children:Array.from({length:5}).map((e,t)=>{let r=t+1;return(0,a.jsx)("button",{type:"button",onClick:()=>x(r),className:"material-symbols-outlined transition-colors ".concat(r<=m?"fill-1 text-primary":"text-[#181810]"),children:"star"},"rating-".concat(r))})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold uppercase tracking-widest text-[#8d895e]",htmlFor:"reviewer-name",children:"Nom"}),(0,a.jsx)("input",{id:"reviewer-name",className:"rounded-lg border-2 border-[#e5e5e0] bg-white px-4 py-3 focus:border-primary focus:ring-primary",placeholder:"Votre nom",type:"text",value:g,onChange:e=>v(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold uppercase tracking-widest text-[#8d895e]",htmlFor:"reviewer-email",children:"Email"}),(0,a.jsx)("input",{id:"reviewer-email",className:"rounded-lg border-2 border-[#e5e5e0] bg-white px-4 py-3 focus:border-primary focus:ring-primary",placeholder:"votre@email.com",type:"email",value:w,onChange:e=>j(e.target.value),required:!0})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold uppercase tracking-widest text-[#8d895e]",htmlFor:"reviewer-comment",children:"Votre commentaire"}),(0,a.jsx)("textarea",{id:"reviewer-comment",className:"rounded-lg border-2 border-[#e5e5e0] bg-white px-4 py-3 focus:border-primary focus:ring-primary",placeholder:"Partagez votre exp\xe9rience...",rows:5,value:p,onChange:e=>h(e.target.value)})]}),(0,a.jsx)("button",{type:"submit",disabled:b||p.trim().length<2||g.trim().length<2||w.trim().length<3,className:"h-14 rounded-lg bg-primary px-10 text-sm font-black uppercase tracking-widest text-black shadow-md transition-all hover:brightness-95 active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-60",children:b?"Envoi...":"Publier l'avis"})]})]})})]})}function i(e){let{description:t,bookId:r}=e,[n,i]=(0,s.useState)("avis"),o="relative pb-2 text-sm font-black uppercase tracking-widest transition-all",c="text-[#181810] after:absolute after:bottom-0 after:left-0 after:h-1 after:w-full after:bg-primary",d="text-[#8d895e] hover:text-[#181810]";return(0,a.jsxs)("div",{className:"border-t border-[#e5e5e0]",children:[(0,a.jsxs)("div",{className:"mb-8 flex flex-wrap gap-4 pt-6 sm:gap-10",children:[(0,a.jsx)("button",{type:"button",onClick:()=>i("description"),className:"".concat(o," ").concat("description"===n?c:d),"aria-pressed":"description"===n,children:"DESCRIPTION"}),(0,a.jsx)("button",{type:"button",onClick:()=>i("avis"),className:"".concat(o," ").concat("avis"===n?c:d),"aria-pressed":"avis"===n,children:"AVIS"})]}),"description"===n?(0,a.jsxs)("div",{className:"space-y-10",children:[(0,a.jsx)("div",{className:"max-w-3xl text-[clamp(1rem,1.4vw,1.15rem)] leading-relaxed text-[#181810]",children:(0,a.jsx)("p",{children:t})}),(0,a.jsx)(l,{bookId:r,mode:"formOnly"})]}):(0,a.jsx)(l,{bookId:r,mode:"full"})]})}},6911:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var a=r(5155),s=r(2115),n=r(63),l=r(5668),i=r(3596),o=r(4835);function c(e){let{book:t,quantity:r=1,disabled:c,className:d,outOfStockLabel:u="RUPTURE DE STOCK"}=e,m=(0,n.useRouter)(),[x,p]=(0,s.useState)(!1);return(0,a.jsx)("button",{type:"button",disabled:c,onClick:function(){if(!(0,i._5)()){let e=(0,o.o)("/panier","/panier");m.push("/connexion?next=".concat(encodeURIComponent(e),"&from=cart"));return}(0,l.bE)(t,r),p(!0),window.setTimeout(()=>p(!1),1500),m.push("/panier")},className:d,children:c?u:x?"AJOUT\xc9":"AJOUTER AU PANIER"})}},8008:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2619,23)),Promise.resolve().then(r.bind(r,5823)),Promise.resolve().then(r.bind(r,5001)),Promise.resolve().then(r.bind(r,1362)),Promise.resolve().then(r.bind(r,5721)),Promise.resolve().then(r.bind(r,4493)),Promise.resolve().then(r.bind(r,2700)),Promise.resolve().then(r.bind(r,361)),Promise.resolve().then(r.bind(r,4988))},9678:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var a=r(3596);async function s(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(0,a.c4)(),n=new Headers(null!=(t=r.headers)?t:{});return s&&n.set("Authorization","Bearer ".concat(s)),fetch(e,{...r,headers:n})}}},e=>{e.O(0,[2619,8441,1255,7358],()=>e(e.s=8008)),_N_E=e.O()}]);