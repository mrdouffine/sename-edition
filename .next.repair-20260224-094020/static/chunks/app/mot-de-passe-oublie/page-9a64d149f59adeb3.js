(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[697],{3576:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var l=t(5155),a=t(2619),n=t.n(a),r=t(2115);function i(){let[e,s]=(0,r.useState)(""),[t,a]=(0,r.useState)(!1),[i,d]=(0,r.useState)(null),[o,c]=(0,r.useState)(null);async function m(s){s.preventDefault(),a(!0),d(null),c(null);try{let s=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),l=await s.json();if(!s.ok||!l.data){var t;d(null!=(t=l.error)?t:"Requ\xeate impossible");return}c(l.data)}catch(e){d("Erreur r\xe9seau")}finally{a(!1)}}return(0,l.jsx)("main",{className:"flex min-h-screen items-center justify-center bg-background-light px-4 py-10 sm:px-6 sm:py-12",children:(0,l.jsxs)("div",{className:"w-full max-w-md rounded-2xl border border-[#e5e5e0] bg-white p-6 shadow-sm sm:p-8",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 justify-center",children:[(0,l.jsx)("div",{className:"flex size-8 items-center justify-center rounded-full bg-black text-primary",children:(0,l.jsx)("span",{className:"material-symbols-outlined text-xl",children:"menu_book"})}),(0,l.jsx)("div",{children:(0,l.jsx)("h1",{className:"text-base font-extrabold uppercase leading-tight tracking-tight text-[#181810] sm:text-lg",children:"SENAME EDITIONâ€™S"})})]}),(0,l.jsx)("br",{}),(0,l.jsx)("h2",{className:"mb-2 text-[clamp(1.4rem,2.2vw,2rem)] font-black",children:"Mot de passe oubli\xe9"}),(0,l.jsx)("p",{className:"mb-6 text-[clamp(0.9rem,1.2vw,1rem)] text-[#6b6959]",children:"Recevez un lien de r\xe9initialisation (mode local: token affich\xe9)."}),(0,l.jsxs)("form",{className:"space-y-4",onSubmit:m,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"mb-1 block text-sm font-semibold",htmlFor:"email",children:"Email"}),(0,l.jsx)("input",{id:"email",type:"email",required:!0,className:"w-full rounded-lg border border-[#d8d7d0] bg-white px-4 py-3 outline-none transition focus:border-primary",placeholder:"vous@example.com",value:e,onChange:e=>s(e.target.value)})]}),i?(0,l.jsx)("p",{className:"rounded border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:i}):null,(0,l.jsx)("button",{type:"submit",disabled:t,className:"w-full rounded-lg bg-primary px-4 py-3 text-xs font-black uppercase tracking-wider text-black disabled:opacity-60 sm:text-sm",children:t?"Envoi...":"Envoyer"})]}),o?(0,l.jsxs)("div",{className:"mt-5 rounded-lg border border-[#e5e5e0] bg-[#f8f8f5] p-3 text-sm",children:[(0,l.jsx)("p",{className:"font-semibold",children:"Demande enregistr\xe9e."}),o.token?(0,l.jsxs)("p",{className:"mt-2 break-all",children:["Token de test: ",(0,l.jsx)("span",{className:"font-bold",children:o.token})]}):null,o.token?(0,l.jsx)(n(),{href:"/reinitialiser-mot-de-passe?token=".concat(o.token),className:"mt-3 inline-block font-bold underline",children:"Ouvrir la page de r\xe9initialisation"}):null]}):null,(0,l.jsxs)("p",{className:"mt-6 text-sm text-[#6b6959]",children:["Retour \xe0 la"," ",(0,l.jsx)(n(),{className:"font-bold underline decoration-primary",href:"/connexion",children:"connexion"})]})]})})}},4773:(e,s,t)=>{Promise.resolve().then(t.bind(t,3576))}},e=>{e.O(0,[2619,8441,1255,7358],()=>e(e.s=4773)),_N_E=e.O()}]);