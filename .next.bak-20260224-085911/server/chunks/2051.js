exports.id=2051,exports.ids=[2051],exports.modules={214:(a,b,c)=>{"use strict";c.d(b,{v:()=>e});var d=c(25174);async function e(a,b={}){let c=(0,d.c4)(),f=new Headers(b.headers??{});return c&&f.set("Authorization",`Bearer ${c}`),fetch(a,{...b,headers:f})}},7109:(a,b,c)=>{"use strict";c.d(b,{default:()=>j});var d=c(21124),e=c(38301),f=c(42378),g=c(58110),h=c(25174),i=c(10701);function j({book:a,quantity:b=1,disabled:c,className:j,outOfStockLabel:k="RUPTURE DE STOCK"}){let l=(0,f.useRouter)(),[m,n]=(0,e.useState)(!1);return(0,d.jsx)("button",{type:"button",disabled:c,onClick:function(){if(!(0,h._5)()){let a=(0,i.o)("/panier","/panier");l.push(`/connexion?next=${encodeURIComponent(a)}&from=cart`);return}(0,g.bE)(a,b),n(!0),window.setTimeout(()=>n(!1),1500),l.push("/panier")},className:j,children:c?k:m?"AJOUT\xc9":"AJOUTER AU PANIER"})}},9185:()=>{},10701:(a,b,c)=>{"use strict";function d(a,b="/"){return!a||!a.startsWith("/")||a.startsWith("//")?b:a}c.d(b,{o:()=>d})},11571:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/moucharif/Documents/IAI-COURS/PersonalProject/ProjetV/Livreo/src/components/UserMenu.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/moucharif/Documents/IAI-COURS/PersonalProject/ProjetV/Livreo/src/components/UserMenu.tsx","default")},11790:(a,b,c)=>{"use strict";c.d(b,{$:()=>i});var d=c(56037),e=c.n(d);let f=process.env.MONGODB_URI,g=global,h=g.mongoose??{conn:null,promise:null};async function i(){if(!f)throw Error("Missing MONGODB_URI in environment");return h.conn||(h.promise||(h.promise=e().connect(f,{bufferCommands:!1})),h.conn=await h.promise),h.conn}g.mongoose=h},12616:(a,b,c)=>{"use strict";c.d(b,{default:()=>j});var d=c(21124),e=c(42378),f=c(38301),g=c(214),h=c(25174),i=c(10701);function j({bookId:a}){let b=(0,e.useRouter)(),[c,j]=(0,f.useState)(null);async function k(){if(!(0,h._5)()){let a=(0,i.o)("/mon-compte?section=wishlist","/mon-compte");b.push(`/connexion?next=${encodeURIComponent(a)}`);return}let c=await (0,g.v)("/api/me/wishlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:a})}),d=await c.json();if(!c.ok)return void j(d.error??"Impossible d'ajouter \xe0 la liste d'envies");j("Ajout\xe9 \xe0 la liste d'envies")}return(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsx)("button",{onClick:()=>void k(),className:"rounded-lg border border-[#d8d7d0] bg-white px-4 py-2 text-xs font-bold uppercase tracking-wider",children:"Ajouter \xe0 la liste d'envies"}),c?(0,d.jsx)("p",{className:"mt-2 text-xs text-[#8d895e]",children:c}):null]})}},24182:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},25174:(a,b,c)=>{"use strict";function d(a,b="local"){}function e(){return null}function f(){}function g(){let a=e();if(!a)return null;let b=a.split(".");if(3!==b.length||!b[1])return null;try{let a=JSON.parse(function(a){let b=a.replace(/-/g,"+").replace(/_/g,"/"),c=b+"=".repeat((4-b.length%4)%4);return window.atob(c)}(b[1]));if(a.exp<=Math.floor(Date.now()/1e3))return null;return a}catch{return null}}c.d(b,{NR:()=>d,Tp:()=>f,_5:()=>g,c4:()=>e})},27110:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/moucharif/Documents/IAI-COURS/PersonalProject/ProjetV/Livreo/src/components/WishlistButton.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/moucharif/Documents/IAI-COURS/PersonalProject/ProjetV/Livreo/src/components/WishlistButton.tsx","default")},34905:(a,b,c)=>{"use strict";c.d(b,{default:()=>k});var d=c(21124),e=c(3991),f=c.n(e),g=c(38301),h=c(42378),i=c(25174),j=c(10701);function k({showAuthLinks:a=!1}){let b=(0,h.usePathname)(),[c,e]=(0,g.useState)(!1),[k,l]=(0,g.useState)(null),[m,n]=(0,g.useState)(null),o=(0,g.useRef)(null),p=encodeURIComponent((0,j.o)(b,"/"));return("admin"!==m||b.startsWith("/admin"))&&k?(0,d.jsxs)("div",{ref:o,className:"relative",children:[(0,d.jsxs)("button",{type:"button",onClick:()=>e(a=>!a),className:"flex h-10 items-center gap-2 rounded-lg border border-primary bg-primary/90 px-3 text-sm font-semibold text-[#181810] shadow-sm transition hover:bg-primary",children:[(0,d.jsx)("span",{className:"material-symbols-outlined text-base",children:"person"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:k}),(0,d.jsx)("span",{className:"material-symbols-outlined text-base",children:"expand_more"})]}),c?(0,d.jsxs)("div",{className:"absolute right-0 mt-2 w-52 overflow-hidden rounded-xl border border-[#e5e5e0] bg-white shadow-lg",children:[(0,d.jsx)("div",{className:"border-b border-[#f0efe9] px-4 py-3 text-xs font-bold uppercase tracking-widest text-[#8d895e]",children:"Mon compte"}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)(f(),{href:"admin"===m?"/admin":"/mon-compte",className:"flex items-center gap-3 px-4 py-3 text-sm text-[#181810] transition hover:bg-[#f8f8f5]",onClick:()=>e(!1),children:[(0,d.jsx)("span",{className:"material-symbols-outlined text-base text-[#8d895e]",children:"person"}),"Mon profil"]}),(0,d.jsxs)("button",{type:"button",onClick:function(){(0,i.Tp)(),l(null),n(null),e(!1),fetch("/api/auth/logout",{method:"POST",keepalive:!0}),window.location.replace("/")},className:"flex items-center gap-3 px-4 py-3 text-sm text-red-600 transition hover:bg-[#fef2f2]",children:[(0,d.jsx)("span",{className:"material-symbols-outlined text-base",children:"logout"}),"D\xe9connexion"]})]})]}):null]}):a?(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(f(),{href:`/connexion?next=${p}&from=home`,className:"text-sm font-semibold uppercase tracking-wider text-[#181810] transition-colors hover:text-primary",children:"connexion"}),(0,d.jsx)(f(),{href:`/inscription?next=${p}&from=home`,className:"text-sm font-semibold uppercase tracking-wider text-[#181810] transition-colors hover:text-primary",children:"inscription"})]}):null}},35622:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/moucharif/Documents/IAI-COURS/PersonalProject/ProjetV/Livreo/src/components/CartNavButton.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/moucharif/Documents/IAI-COURS/PersonalProject/ProjetV/Livreo/src/components/CartNavButton.tsx","default")},42378:(a,b,c)=>{"use strict";var d=c(91330);c.o(d,"usePathname")&&c.d(b,{usePathname:function(){return d.usePathname}}),c.o(d,"useRouter")&&c.d(b,{useRouter:function(){return d.useRouter}}),c.o(d,"useSearchParams")&&c.d(b,{useSearchParams:function(){return d.useSearchParams}})},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g,dynamic:()=>e,metadata:()=>f});var d=c(75338);c(61135);let e="force-dynamic",f={title:"SENAME EDITION’S",description:"Projet SENAME EDITION’S en Next.js"};function g({children:a}){return(0,d.jsxs)("html",{lang:"fr",children:[(0,d.jsxs)("head",{children:[(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:""}),(0,d.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap",rel:"stylesheet"}),(0,d.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@100..700&display=swap",rel:"stylesheet"})]}),(0,d.jsx)("body",{className:"font-display bg-background-light text-[#181810]",children:a})]})}},53386:(a,b,c)=>{"use strict";c.d(b,{A:()=>g});var d=c(56037),e=c.n(d);let f=new d.Schema({title:{type:String,required:!0,trim:!0},subtitle:{type:String,trim:!0},slug:{type:String,required:!0,unique:!0,lowercase:!0},description:{type:String,required:!0},price:{type:Number,required:!0,min:0},saleType:{type:String,enum:["direct","preorder","crowdfunding"],required:!0},releaseDate:{type:Date},coverImage:{type:String,required:!0},galleryImages:{type:[String],default:[]},isbn:{type:String},pages:{type:Number,min:1},stock:{type:Number,min:0},fundingGoal:{type:Number,min:0},fundingRaised:{type:Number,min:0,default:0},excerptUrl:{type:String},authorName:{type:String},tags:{type:[String],default:[]},preorderNotifiedAt:{type:Date},campaignEndNotifiedAt:{type:Date}},{timestamps:!0}),g=e().models.Book||e().model("Book",f)},58110:(a,b,c)=>{"use strict";function d(){return[]}function e(a){}function f(a,b=1){let c,d=[];return e(c=d.find(b=>b.bookId===a.bookId)?d.map(c=>c.bookId===a.bookId?{...c,quantity:Math.max(1,c.quantity+b)}:c):[...d,{...a,quantity:Math.max(1,b)}]),c}function g(a,b){let c=Math.max(1,b),d=[].map(b=>b.bookId===a?{...b,quantity:c}:b);return e(d),d}function h(a){let b=[].filter(b=>b.bookId!==a);return e(b),b}function i(){}function j(a){return a.reduce((a,b)=>a+b.quantity,0)}function k(a){return a.reduce((a,b)=>a+b.price*b.quantity,0)}c.d(b,{AR:()=>g,SM:()=>h,bE:()=>f,cr:()=>j,hs:()=>k,je:()=>d,yA:()=>i})},61134:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},61135:()=>{},62320:(a,b,c)=>{"use strict";function d(a){if("crowdfunding"!==a.saleType)return{percent:0,remaining:0};let b=a.fundingGoal??0,c=a.fundingRaised??0;return{percent:b>0?Math.min(100,Math.round(c/b*100)):0,remaining:Math.max(0,b-c)}}function e(a){return"preorder"===a.saleType?"Pr\xe9commande":"crowdfunding"===a.saleType?"Financement participatif":"Disponible"}function f(a){return"direct"===a.saleType&&void 0!==a.stock&&null!==a.stock&&a.stock<=0}c.d(b,{WZ:()=>e,rq:()=>d,yg:()=>f})},64074:(a,b,c)=>{"use strict";c.d(b,{A:()=>g});var d=c(75338);let e=[{label:"Facebook",short:"f"},{label:"Instagram",short:"ig"},{label:"YouTube",short:"yt"},{label:"Medium",short:"M"},{label:"Plus",short:"+"}],f=[{label:"LinkedIn"},{label:"Twitter"}];function g(){return(0,d.jsx)("footer",{className:"fixed bottom-0 left-0 right-0 z-40 bg-primary px-6 py-6 text-[#181810] md:px-20",children:(0,d.jsxs)("div",{className:"mx-auto flex max-w-7xl flex-col gap-8",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-6 text-xs font-semibold uppercase tracking-[0.18em] md:flex-row md:items-start md:justify-between md:gap-10",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,d.jsx)("div",{className:"flex size-8 items-center justify-center rounded-full bg-black text-primary",children:(0,d.jsx)("span",{className:"material-symbols-outlined text-xl",children:"menu_book"})}),(0,d.jsx)("h2",{className:"text-base font-extrabold uppercase leading-tight tracking-tight text-[#181810] sm:text-lg",children:"SENAME EDITION’S"})]}),(0,d.jsx)("div",{className:"text-[11px] font-bold tracking-[0.22em]",children:"info@artforintrovert.com"}),(0,d.jsxs)("div",{className:"space-y-2 text-[10px] font-bold tracking-[0.22em] md:max-w-xs md:text-right",children:[(0,d.jsxs)("p",{children:["Suite 4022, 43 Bedford Street,",(0,d.jsx)("br",{}),"London, United Kingdom, WC2E 9HA"]}),(0,d.jsxs)("div",{className:"space-x-6",children:[(0,d.jsx)("a",{className:"underline underline-offset-4",href:"#",children:"Payment"}),(0,d.jsx)("a",{className:"underline underline-offset-4",href:"#",children:"Refund"})]})]})]}),(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[e.map(a=>(0,d.jsx)("a",{className:"flex h-8 w-8 items-center justify-center rounded-full border border-[#181810] text-[11px] font-bold uppercase tracking-tight",href:"#","aria-label":a.label,children:a.short},a.label)),f.map(a=>(0,d.jsx)("a",{className:"flex h-8 items-center justify-center rounded-sm border border-[#181810] bg-[#bcbcbc] px-3 text-[11px] font-bold uppercase tracking-tight",href:"#",children:a.label},a.label))]})]})})}},65169:(a,b,c)=>{let{createProxy:d}=c(39893);a.exports=d("/home/moucharif/Documents/IAI-COURS/PersonalProject/ProjetV/Livreo/node_modules/next/dist/client/app-dir/link.js")},65512:(a,b,c)=>{"use strict";c.d(b,{default:()=>h});var d=c(21124),e=c(3991),f=c.n(e),g=c(38301);function h(){let[a,b]=(0,g.useState)(0);return(0,d.jsxs)(f(),{href:"/panier",className:"relative flex h-10 w-10 items-center justify-center rounded-lg bg-[#f5f4f0] text-[#181810] transition-colors hover:bg-primary","aria-label":"Panier",children:[(0,d.jsx)("span",{className:"material-symbols-outlined",children:"shopping_bag"}),(0,d.jsx)("span",{className:"absolute -right-1 -top-1 rounded-full border-2 border-white bg-primary px-1.5 py-0.5 text-[10px] font-bold text-black",children:a})]})}c(58110),c(25174)},69466:(a,b,c)=>{"use strict";c.d(b,{iC:()=>k,sp:()=>i,Ty:()=>j,gn:()=>h});var d=c(53386),e=c(11790);let f=[{title:"Le Centre de Flammes",subtitle:"Maison d'\xe9dition Africaine",slug:"le-centre-de-flammes",description:"Un ouvrage manifeste sur la puissance des mythes africains et les trajectoires de cr\xe9ation.",price:35,saleType:"direct",coverImage:"https://lh3.googleusercontent.com/aida-public/AB6AXuDYSbJ3_4m9L3kbj_5gsGyulcSyFAERw49O0CTVzOTBHv5DheevkPS2EebCPanU1Y2kL2Cwry8dPvFhY__D0kjx3Xk-bniakLhn70VjywgkVrXxYt61hn-5aABS8G0kIKHcCIVQsUUAXPBFqwL71kLHs6j6UerPJZkciE8EsiV-7riatlRkujA-A70YG377gAf4OVRHIaERL3XfWAdQmaCargEnU7W9NVciWs635yqrk0ilG_YrcbYOhrUtI5fvj_f17Zy6fsdtdIc",galleryImages:[],stock:12,authorName:"Seydou Koffi Abodjinou",tags:["essai","histoire"]},{title:"Grations",subtitle:"Po\xe9sie contemporaine",slug:"grations",description:"GIRATIONS est le premier opus d'une collection d\xe9di\xe9e \xe0 la cr\xe9ation contemporaine.",price:40,saleType:"preorder",releaseDate:new Date("2022-04-01"),coverImage:"https://lh3.googleusercontent.com/aida-public/AB6AXuAD2uVu4d-IKDbc0coZFFV4ZJmiVGzQh2-va4GruvfEcAYzkXV2WxIWOSlxqr7ei7fvGtT6lbxPCf8h0Moe55Q3VJHs1d6g8jH6XiDi_XZgqy_GunqjuMlpXkmqasUVpWqNvlEhfaq1ndVOs4CCOovForAj9HT913xqvUXt5zIJ0dKlZc1sstepnMhfCAroJQMa4NdjDJ6QhV8igntWFoDNPIPD50e02-c1dBkg2EYDqe0E218T2ZA90YpirZmsAWneOZeo6rYCJB0",galleryImages:["https://lh3.googleusercontent.com/aida-public/AB6AXuAFofOUnbDM3-UeGhAPg1O0zo0B5KZi0qPk-PP5g-GlDvUmkhftD3XHeLIXNkSV1nNbU3rCWxBycsX093mJWN3AY13q6wcJTh4UwGFsX8LBsecw1O69Q1_7U7OnELzWhyOxLL5nJ3EO6jAYqiF7Bo6W17kw6g0cLTp4xINDoqB6mvVu26khFlSR4LnHNHnmVhvVXQ8MpF1PHZoXsZJLIPLJkPWT7bu_3f8lr4zQvCLCcXwMuPKXb3i-1GClI6AO1IZSOo3ZBFHUpHQ","https://lh3.googleusercontent.com/aida-public/AB6AXuDZsamJZEpcYaTLJqa4KPG2JdyRrjCMtMoEXqRaIfSXXVRLqKcdWmvNE6LhpODVTzlA4DAstRdw7dL267kfFx5p7P0aXEdiiG2ivkcNZHqfFkoAvGqa9CjIO3eUbyA6BRl6N4opsWRuqRNL2aZQD6bwV4ZPFC9k3Mgq5mC67k5gFSlGbiB_axIyh3b2W0JINMPlGvQ3QCghPtcbZC_vIrCegc7M-yrdW_3wW4a32QPCLDeGdWu7a4pvK_qf--8Y5hm6Xu7HidTIFU0"],isbn:"978-2-491229-06-1",pages:192,stock:10,authorName:"Collectif",tags:["po\xe9sie","contemporain"]},{title:"Cosmo Architecture",subtitle:"Urbanisme et futur",slug:"cosmo-architecture",description:"Projet \xe9ditorial sur l'architecture cosmique et les villes de demain.",price:0,saleType:"crowdfunding",coverImage:"https://lh3.googleusercontent.com/aida-public/AB6AXuClE2mEVNHYX31yi9InBFZkthQMF_8QZbR22NVA4WZ-9xiJx2dOkbEMqsHwxO6GgOLI8xqeDJ24LUNJ6OY6jE4KNjY7Fz_Dq86Fh_clTtyGM76aMpzHF2yRdmVqhxs_62MsCCbqA2BHfvWXKf5IIqed6FOw8bSCUDTnWjSvUL9KcF98PIZSuywVHhq-mA2FmFaWli6AIbsu8zLxnazcnvd2y3byLHhd3zsoHGZFjwk604K9rqgDEkPJwvQ5gJW3kYtaqpnq79f-k-U",galleryImages:[],fundingGoal:12e3,fundingRaised:7800,authorName:"Collectif",tags:["architecture","prospective"]}];function g(a){return a.sort((a,b)=>a.title.localeCompare(b.title))}async function h(a){try{await (0,e.$)();let b=await d.A.find({saleType:a}).lean();return g(b)}catch(b){return console.warn("Falling back to mock books",b),g(f.filter(b=>b.saleType===a))}}async function i(a){try{return await (0,e.$)(),await d.A.findOne({slug:a}).lean()}catch(b){return console.warn("Falling back to mock books",b),f.find(b=>b.slug===a)??null}}async function j(){try{await (0,e.$)();let a=await d.A.findOne({tags:"featured"}).sort({createdAt:-1}).lean();if(a)return a;return await d.A.findOne({}).sort({createdAt:-1}).lean()??null}catch(a){return console.warn("Falling back to mock featured book",a),f[0]??null}}async function k(a){await (0,e.$)();let b=String(a.slug??a.title??"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"").slice(0,120),c=await l(b||`ouvrage-${Date.now()}`);return await d.A.create({...a,slug:c})}async function l(a){let b=a,c=2;for(;await d.A.exists({slug:b});)b=`${a}-${c}`,c+=1;return b}},96033:()=>{}};