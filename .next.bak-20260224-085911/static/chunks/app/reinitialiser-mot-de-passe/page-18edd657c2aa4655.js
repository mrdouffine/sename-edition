(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2449],{63:(e,s,r)=>{"use strict";var t=r(7260);r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},3626:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var t=r(5155),a=r(2619),n=r.n(a),l=r(63),o=r(2115);function i(){let e=(0,l.useSearchParams)(),s=(0,o.useMemo)(()=>{var s;return null!=(s=e.get("token"))?s:""},[e]),[r,a]=(0,o.useState)(s),[i,d]=(0,o.useState)(""),[u,c]=(0,o.useState)(""),[m,p]=(0,o.useState)(!1),[x,b]=(0,o.useState)(null),[h,f]=(0,o.useState)(!1);async function g(e){if(e.preventDefault(),b(null),f(!1),i!==u)return void b("Les mots de passe ne correspondent pas");p(!0);try{let e=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,password:i})}),t=await e.json();if(!e.ok){var s;b(null!=(s=t.error)?s:"R\xe9initialisation impossible");return}f(!0),d(""),c("")}catch(e){b("Erreur r\xe9seau")}finally{p(!1)}}return(0,o.useEffect)(()=>{a(s)},[s]),(0,t.jsx)("main",{className:"flex min-h-screen items-center justify-center bg-background-light px-4 py-10 sm:px-6 sm:py-12",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-2xl border border-[#e5e5e0] bg-white p-6 shadow-sm sm:p-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 justify-center",children:[(0,t.jsx)("div",{className:"flex size-8 items-center justify-center rounded-full bg-black text-primary",children:(0,t.jsx)("span",{className:"material-symbols-outlined text-xl",children:"menu_book"})}),(0,t.jsx)("div",{children:(0,t.jsx)("h1",{className:"text-base font-extrabold uppercase leading-tight tracking-tight text-[#181810] sm:text-lg",children:"SENAME EDITIONâ€™S"})})]}),(0,t.jsx)("br",{}),(0,t.jsx)("h2",{className:"mb-2 text-[clamp(1.4rem,2.2vw,2rem)] font-black",children:"R\xe9initialiser le mot de passe"}),(0,t.jsxs)("form",{className:"space-y-4",onSubmit:g,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm font-semibold",htmlFor:"token",children:"Token"}),(0,t.jsx)("input",{id:"token",type:"text",required:!0,className:"w-full rounded-lg border border-[#d8d7d0] px-4 py-3 outline-none focus:border-primary",placeholder:"Token re\xe7u",value:r,onChange:e=>a(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm font-semibold",htmlFor:"password",children:"Nouveau mot de passe"}),(0,t.jsx)("input",{id:"password",type:"password",required:!0,minLength:8,className:"w-full rounded-lg border border-[#d8d7d0] px-4 py-3 outline-none focus:border-primary",value:i,onChange:e=>d(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1 block text-sm font-semibold",htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),(0,t.jsx)("input",{id:"confirmPassword",type:"password",required:!0,minLength:8,className:"w-full rounded-lg border border-[#d8d7d0] px-4 py-3 outline-none focus:border-primary",value:u,onChange:e=>c(e.target.value)})]}),x?(0,t.jsx)("p",{className:"rounded border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:x}):null,h?(0,t.jsx)("p",{className:"rounded border border-green-200 bg-green-50 px-3 py-2 text-sm text-green-700",children:"Mot de passe mis \xe0 jour."}):null,(0,t.jsx)("button",{type:"submit",disabled:m,className:"w-full rounded-lg bg-primary px-4 py-3 text-xs font-black uppercase tracking-wider disabled:opacity-60 sm:text-sm",children:m?"Mise \xe0 jour...":"R\xe9initialiser"})]}),(0,t.jsxs)("p",{className:"mt-6 text-sm text-[#6b6959]",children:["Aller \xe0 la"," ",(0,t.jsx)(n(),{className:"font-bold underline decoration-primary",href:"/connexion",children:"connexion"})]})]})})}},5901:(e,s,r)=>{Promise.resolve().then(r.bind(r,3626))}},e=>{e.O(0,[2619,8441,1255,7358],()=>e(e.s=5901)),_N_E=e.O()}]);